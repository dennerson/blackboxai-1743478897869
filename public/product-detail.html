<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail - Lazada Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body class="font-roboto bg-gray-50">
    <!-- Header (same as index.html) -->
    <header class="bg-orange-500 text-white shadow-md">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <a href="/" class="text-2xl font-bold">Lazada</a>
                <div class="relative w-96">
                    <input type="text" placeholder="Search for products..." 
                           class="w-full py-2 px-4 rounded text-gray-800 focus:outline-none">
                    <button class="absolute right-0 top-0 h-full px-4 bg-orange-600 rounded-r">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            <nav class="flex items-center space-x-6">
                <a href="/auth.html" class="hover:underline"><i class="fas fa-user mr-1"></i> Login</a>
                <a href="/cart.html" class="hover:underline"><i class="fas fa-shopping-cart mr-1"></i> Cart</a>
            </nav>
        </div>
    </header>

    <!-- Product Detail Section -->
    <main class="container mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Product Images -->
            <div class="md:w-1/2">
                <div class="bg-white p-4 rounded-lg shadow-sm mb-4">
                    <img id="main-image" src="" alt="Main Product Image" class="w-full h-96 object-contain">
                </div>
                <div class="grid grid-cols-4 gap-2">
                    <img src="" alt="Thumbnail 1" class="thumbnail cursor-pointer border-2 border-transparent hover:border-orange-500 rounded">
                    <img src="" alt="Thumbnail 2" class="thumbnail cursor-pointer border-2 border-transparent hover:border-orange-500 rounded">
                    <img src="" alt="Thumbnail 3" class="thumbnail cursor-pointer border-2 border-transparent hover:border-orange-500 rounded">
                    <img src="" alt="Thumbnail 4" class="thumbnail cursor-pointer border-2 border-transparent hover:border-orange-500 rounded">
                </div>
            </div>

            <!-- Product Info -->
            <div class="md:w-1/2">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h1 id="product-name" class="text-2xl font-bold mb-2"></h1>
                    <div class="flex items-center mb-4">
                        <div id="product-rating" class="mr-2"></div>
                        <span id="review-count" class="text-gray-500 text-sm">(0 reviews)</span>
                        <span class="mx-2 text-gray-300">|</span>
                        <span id="sold-count" class="text-gray-500 text-sm">0 sold</span>
                    </div>

                    <div class="mb-6">
                        <div class="price text-3xl font-bold text-orange-500 mb-1"></div>
                        <div class="original-price text-lg text-gray-400 line-through"></div>
                        <div class="text-green-600 font-medium mt-1">Free Shipping</div>
                    </div>

                    <!-- Variants -->
                    <div class="mb-6">
                        <h3 class="font-medium mb-2">Color:</h3>
                        <div class="flex space-x-2">
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="black">Black</button>
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="white">White</button>
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="blue">Blue</button>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="font-medium mb-2">Size:</h3>
                        <div class="flex flex-wrap gap-2">
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="s">S</button>
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="m">M</button>
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="l">L</button>
                            <button class="variant-btn border-2 border-gray-200 px-3 py-1 rounded hover:border-orange-500" data-variant="xl">XL</button>
                        </div>
                    </div>

                    <!-- Quantity -->
                    <div class="mb-6">
                        <h3 class="font-medium mb-2">Quantity:</h3>
                        <div class="flex items-center">
                            <button id="decrease-qty" class="bg-gray-200 px-3 py-1 rounded-l">-</button>
                            <input id="quantity" type="number" value="1" min="1" max="10" class="w-16 text-center border-t border-b border-gray-200 py-1">
                            <button id="increase-qty" class="bg-gray-200 px-3 py-1 rounded-r">+</button>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-4">
                        <button id="add-to-cart" class="btn-primary flex-1 py-3">
                            <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
                        </button>
                        <button id="buy-now" class="bg-orange-600 text-white flex-1 py-3 rounded hover:bg-orange-700 transition">
                            Buy Now
                        </button>
                    </div>
                </div>

                <!-- Product Description -->
                <div class="bg-white p-6 rounded-lg shadow-sm mt-6">
                    <h2 class="text-xl font-bold mb-4">Product Description</h2>
                    <div id="product-description" class="prose max-w-none">
                        <!-- Description will be loaded via JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Reviews Section -->
        <div class="bg-white p-6 rounded-lg shadow-sm mt-8">
            <h2 class="text-xl font-bold mb-6">Customer Reviews</h2>
            <div id="reviews-container">
                <div class="text-center py-8 text-gray-500">
                    No reviews yet. Be the first to review this product!
                </div>
            </div>
        </div>
    </main>

    <!-- Footer (same as index.html) -->
    <footer class="bg-gray-800 text-white py-12">
        <!-- Footer content -->
    </footer>

    <script src="/scripts/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const productId = parseInt(getUrlParameter('id'));
            const product = products.find(p => p.id === productId);
            
            if (product) {
                // Set main product info
                document.getElementById('product-name').textContent = product.name;
                document.getElementById('product-rating').innerHTML = renderRatingStars(product.rating);
                document.querySelector('.price').textContent = `$${product.price.toFixed(2)}`;
                document.querySelector('.original-price').textContent = `$${product.originalPrice.toFixed(2)}`;
                document.getElementById('main-image').src = product.image;
                document.querySelectorAll('.thumbnail').forEach((img, index) => {
                    img.src = product.image; // In a real app, these would be different images
                });

                // Set product description
                document.getElementById('product-description').innerHTML = `
                    <p>${product.name} is a high-quality product with excellent features:</p>
                    <ul>
                        <li>Premium materials for durability</li>
                        <li>Advanced technology for better performance</li>
                        <li>Comes with 1-year manufacturer warranty</li>
                        <li>Easy to use and maintain</li>
                    </ul>
                `;

                // Thumbnail click handler
                document.querySelectorAll('.thumbnail').forEach(thumb => {
                    thumb.addEventListener('click', () => {
                        document.getElementById('main-image').src = thumb.src;
                    });
                });

                // Variant selection
                document.querySelectorAll('.variant-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('.variant-btn').forEach(b => {
                            b.classList.remove('border-orange-500', 'bg-orange-100');
                        });
                        btn.classList.add('border-orange-500', 'bg-orange-100');
                    });
                });

                // Quantity controls
                document.getElementById('increase-qty').addEventListener('click', () => {
                    const qtyInput = document.getElementById('quantity');
                    if (parseInt(qtyInput.value) < 10) {
                        qtyInput.value = parseInt(qtyInput.value) + 1;
                    }
                });

                document.getElementById('decrease-qty').addEventListener('click', () => {
                    const qtyInput = document.getElementById('quantity');
                    if (parseInt(qtyInput.value) > 1) {
                        qtyInput.value = parseInt(qtyInput.value) - 1;
                    }
                });

                // Add to cart button
                document.getElementById('add-to-cart').addEventListener('click', () => {
                    const quantity = parseInt(document.getElementById('quantity').value);
                    for (let i = 0; i < quantity; i++) {
                        addToCart(product.id);
                    }
                    alert(`${quantity} ${product.name} added to cart!`);
                });

                // Buy now button
                document.getElementById('buy-now').addEventListener('click', () => {
                    const quantity = parseInt(document.getElementById('quantity').value);
                    for (let i = 0; i < quantity; i++) {
                        addToCart(product.id);
                    }
                    window.location.href = '/checkout.html';
                });
            } else {
                window.location.href = '/products.html';
            }
        });
    </script>
</body>
</html>